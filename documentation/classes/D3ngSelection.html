<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>d3ng documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	    <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">d3ng documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../index.html">d3ng documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../index.html"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../index.html" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../modules.html" >
                            <span class="fa fa-archive"></span>
                            <span>Modules</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-modules-links"
                            ></span>
                        </a>
                        <ul class="links collapse in"
                                id="xs-modules-links"
                            >
                                <li class="link">
                                    <a href="../modules/D3ngComponentsModule.html" >D3ngComponentsModule</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/D3ngChordDiagramComponent.html" >D3ngChordDiagramComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/D3ngCollapsibleIndentedTreeComponent.html" >D3ngCollapsibleIndentedTreeComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/D3ngForceGraphComponent.html" >D3ngForceGraphComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/D3ngGroupSelectionComponent.html" >D3ngGroupSelectionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/D3ngGroupsComponent.html" >D3ngGroupsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/D3ngHistogramComponent.html" >D3ngHistogramComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/D3ngListComponent.html" >D3ngListComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/D3ngMapComponent.html" >D3ngMapComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/D3ngParallelCoordinatesComponent.html" >D3ngParallelCoordinatesComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/D3ngRadialEdgeBundlingComponent.html" >D3ngRadialEdgeBundlingComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/D3ngScatterPlotComponent.html" >D3ngScatterPlotComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/D3ngTreeMapComponent.html" >D3ngTreeMapComponent</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-code"></span>
                            <span>Directives</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-directives-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-directives-links"
                            >
                                <li class="link">
                                    <a href="../directives/D3ngSourceDirective.html" >D3ngSourceDirective</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-file-code-o"></span>
                            <span>Classes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-classes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-classes-links"
                            >
                                <li class="link">
                                    <a href="../classes/D3ngChart.html" >D3ngChart</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/D3ngDependencyChart.html" >D3ngDependencyChart</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/D3ngGroup.html" >D3ngGroup</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/D3ngGroupContext.html" >D3ngGroupContext</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/D3ngHierarchicalChart.html" >D3ngHierarchicalChart</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/D3ngSelection.html"  data-type="entity-link" class="active" >D3ngSelection</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/D3ngSelectionItem.html" >D3ngSelectionItem</a>
                                </li>
                        </ul>
                    </li>
            
            
            
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/website/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../index.html">d3ng documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../index.html"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../index.html" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../modules.html" >
                                   <span class="fa fa-archive"></span>
                                   <span>Modules</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#modules-links"
                                   ></span>
                               </a>
                               <ul class="links collapse in"
                                       id="modules-links"
                   >
                                       <li class="link">
                                           <a href="../modules/D3ngComponentsModule.html" >D3ngComponentsModule</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/D3ngChordDiagramComponent.html" >D3ngChordDiagramComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/D3ngCollapsibleIndentedTreeComponent.html" >D3ngCollapsibleIndentedTreeComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/D3ngForceGraphComponent.html" >D3ngForceGraphComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/D3ngGroupSelectionComponent.html" >D3ngGroupSelectionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/D3ngGroupsComponent.html" >D3ngGroupsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/D3ngHistogramComponent.html" >D3ngHistogramComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/D3ngListComponent.html" >D3ngListComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/D3ngMapComponent.html" >D3ngMapComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/D3ngParallelCoordinatesComponent.html" >D3ngParallelCoordinatesComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/D3ngRadialEdgeBundlingComponent.html" >D3ngRadialEdgeBundlingComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/D3ngScatterPlotComponent.html" >D3ngScatterPlotComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/D3ngTreeMapComponent.html" >D3ngTreeMapComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-code"></span>
                                   <span>Directives</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#directives-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="directives-links"
                   >
                                       <li class="link">
                                           <a href="../directives/D3ngSourceDirective.html" >D3ngSourceDirective</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-file-code-o"></span>
                                   <span>Classes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#classes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="classes-links"
                   >
                                       <li class="link">
                                           <a href="../classes/D3ngChart.html" >D3ngChart</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/D3ngDependencyChart.html" >D3ngDependencyChart</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/D3ngGroup.html" >D3ngGroup</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/D3ngGroupContext.html" >D3ngGroupContext</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/D3ngHierarchicalChart.html" >D3ngHierarchicalChart</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/D3ngSelection.html"  data-type="entity-link" class="active" >D3ngSelection</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/D3ngSelectionItem.html" >D3ngSelectionItem</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                   
                   
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/website/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
               </div>
               <div class="content class">
                   <div class="content-data">






<ol class="breadcrumb">
  <li>Classes</li>
  <li>D3ngSelection</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
    <li class="active">
        <a href="#infos" id="infos-tab" role="tab" data-toggle="tab">Infos</a>
    </li>
    <li>
        <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
    </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="infos">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/lib/d3ng-chart.ts</code>
        </p>





            <section>
                
                    <h3 id="methods">
                        Methods
                    </h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b><span class="modifier">Static</span> getSelection</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                        <span class="modifier-icon method fa fa-play export">
                                            <span class="fa fa-export"></span>
                                        </span>
                                    <code>getSelection(group: number, direct: boolean, create: boolean)</code>
                                </td>
                            </tr>
            
            
                                <tr>
                                    <td class="col-md-4">
                                        <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/lib/d3ng-chart.ts:15</a></div>
                                    </td>
                                </tr>
            
                            <tr>
                                <td class="col-md-4">
            
                                        <div class="io-description">
                                            <b>Returns : </b>    <code><a href="../classes/D3ngSelectionItem.html" target="_self" >D3ngSelectionItem</a></code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b><span class="modifier">Static</span> getSelected</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                        <span class="modifier-icon method fa fa-play export">
                                            <span class="fa fa-export"></span>
                                        </span>
                                    <code>getSelected(group: number, direct: boolean, create: boolean)</code>
                                </td>
                            </tr>
            
            
                                <tr>
                                    <td class="col-md-4">
                                        <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/lib/d3ng-chart.ts:32</a></div>
                                    </td>
                                </tr>
            
                            <tr>
                                <td class="col-md-4">
            
                                        <div class="io-description">
                                            <b>Returns : </b>    <code>any[]</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b><span class="modifier">Static</span> selectionColor</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                        <span class="modifier-icon method fa fa-play export">
                                            <span class="fa fa-export"></span>
                                        </span>
                                    <code>selectionColor(dataPoint: any, predicate: (selected: any[], dataPoint: any) => boolean)</code>
                                </td>
                            </tr>
            
            
                                <tr>
                                    <td class="col-md-4">
                                        <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">src/lib/d3ng-chart.ts:41</a></div>
                                    </td>
                                </tr>
            
                            <tr>
                                <td class="col-md-4">
            
                                        <div class="io-description">
                                            <b>Returns : </b>    <code>string</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b><span class="modifier">Static</span> sortSelection</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                        <span class="modifier-icon method fa fa-play export">
                                            <span class="fa fa-export"></span>
                                        </span>
                                    <code>sortSelection(groups: number[])</code>
                                </td>
                            </tr>
            
            
                                <tr>
                                    <td class="col-md-4">
                                        <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">src/lib/d3ng-chart.ts:63</a></div>
                                    </td>
                                </tr>
            
                            <tr>
                                <td class="col-md-4">
            
                                        <div class="io-description">
                                            <b>Returns : </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b><span class="modifier">Static</span> isSelected</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                        <span class="modifier-icon method fa fa-play export">
                                            <span class="fa fa-export"></span>
                                        </span>
                                    <code>isSelected(dataPoint: any, predicate: (selected: any[], dataPoint: any) => boolean)</code>
                                </td>
                            </tr>
            
            
                                <tr>
                                    <td class="col-md-4">
                                        <div class="io-line">Defined in <a href="" data-line="71" class="link-to-prism">src/lib/d3ng-chart.ts:71</a></div>
                                    </td>
                                </tr>
            
                            <tr>
                                <td class="col-md-4">
            
                                        <div class="io-description">
                                            <b>Returns : </b>    <code>boolean</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
            </section>


            <section>
                
                    <h3 id="inputs">
                        Properties
                    </h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b><span class="modifier">Protected</span> directSelectionColors</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <span class="modifier-icon fa fa-lock"></span><code>directSelectionColors:     <code>string[]</code>
            </bcode>
                                </td>
                            </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <div class="io-line">Defined in <a href="" data-line="12" class="link-to-prism">src/lib/d3ng-chart.ts:12</a></div>
                                    </td>
                                </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b><span class="modifier">Protected</span> indirectSelectionColors</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <span class="modifier-icon fa fa-lock"></span><code>indirectSelectionColors:     <code>string[]</code>
            </bcode>
                                </td>
                            </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <div class="io-line">Defined in <a href="" data-line="13" class="link-to-prism">src/lib/d3ng-chart.ts:13</a></div>
                                    </td>
                                </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b><span class="modifier">Static</span> items</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <span class="modifier-icon fa fa-export"></span><code>items:     <code><a href="../classes/D3ngSelectionItem.html" target="_self" >D3ngSelectionItem[]</a></code>
            </bcode>
                                </td>
                            </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <div class="io-line">Defined in <a href="" data-line="10" class="link-to-prism">src/lib/d3ng-chart.ts:10</a></div>
                                    </td>
                                </tr>
                        </tbody>
                    </table>
            </section>
    </div>
    <div class="tab-pane fade tab-source-code" id="source">
        <pre class="line-numbers"><code class="language-typescript">import {EventEmitter, HostListener, Input, OnChanges, Output, SimpleChanges} from &quot;@angular/core&quot;;

export class D3ngSelectionItem {
  group &#x3D; 0;
  direct: boolean;
  selected: Array&lt;any&gt; &#x3D; [];
}

export class D3ngSelection  {
  public items: Array&lt;D3ngSelectionItem&gt; &#x3D; [];

  private directSelectionColors &#x3D; D3ngChart.selectionColors.map(e &#x3D;&gt; e.direct);
  private indirectSelectionColors &#x3D; D3ngChart.selectionColors.map(e &#x3D;&gt; e.indirect);

  public getSelection(group: number, direct: boolean, create &#x3D; false): D3ngSelectionItem {
    const selection &#x3D; this.items.find(s &#x3D;&gt; s.group &#x3D;&#x3D; group &amp;&amp; s.direct &#x3D;&#x3D; direct);
    if (selection) {
      return selection;
    } else {
      if (create) {
        const newSelection &#x3D; new D3ngSelectionItem();
        newSelection.group &#x3D; group;
        newSelection.direct &#x3D; direct;
        this.items.push(newSelection);
        return newSelection;
      } else {
        return null;
      }
    }
  }

  public getSelected(group: number, direct: boolean, create &#x3D; false): Array&lt;any&gt; {
    const selection &#x3D; this.getSelection(group, direct, create);
    if (selection) {
      return selection.selected;
    } else {
      return [];
    }
  }

  public selectionColor(dataPoint: any, predicate?: (selected: any[], dataPoint: any) &#x3D;&gt; boolean): string {
    if (!predicate) {
      predicate &#x3D; (selected, dataPoint) &#x3D;&gt; selected.indexOf(dataPoint) !&#x3D; -1;
    }
    let color &#x3D; &quot;black&quot;;
    this.items.forEach(item &#x3D;&gt; {
      if (predicate(item.selected, dataPoint)) {
        if (item.direct) {
          color &#x3D; D3ngChart.selectionColors[item.group].direct;
        } else {
          if (this.directSelectionColors.indexOf(color) &#x3D;&#x3D; -1) {
            const oldColor &#x3D; this.indirectSelectionColors.indexOf(color);
            if (oldColor &#x3D;&#x3D; -1) {
              color &#x3D; D3ngChart.selectionColors[item.group].indirect;
            }
          }
        }
      }
    });
    return color;
  }

  public sortSelection(groups: number[]) {
    this.items.sort((a,b) &#x3D;&gt; {
      const ag &#x3D; groups.indexOf(a.group);
      const bg &#x3D; groups.indexOf(b.group);
      return (ag &gt; bg) ? 1 : ((ag &lt; bg) ? -1 : 0);
    });
  }

  public isSelected(dataPoint: any, predicate?: (selected: any[], dataPoint: any) &#x3D;&gt; boolean): boolean {
    if (!predicate) {
      predicate &#x3D; (selected, dataPoint) &#x3D;&gt; selected.indexOf(dataPoint) !&#x3D; -1;
    }
    return this.items.findIndex(item &#x3D;&gt; predicate(item.selected, dataPoint)) !&#x3D; -1;
  }
}


export abstract class D3ngChart implements OnChanges {

  /**
   * The colors used to draw shapes and lines in charts and diagrams.
   */
  static colors: Array&lt;string&gt; &#x3D; [
    &quot;#ffcdd2&quot;, &quot;#f8bbd0&quot;, &quot;#e1bee7&quot;, &quot;#d1c4e9&quot;, &quot;#c5cae9&quot;, &quot;#bbdefb&quot;, &quot;#b3e5fc&quot;, &quot;#b2ebf2&quot;, &quot;#b2dfdb&quot;, &quot;#c8e6c9&quot;,
    &quot;#dcedc8&quot;, &quot;#f0f4c3&quot;, &quot;#fff9c4&quot;, &quot;#ffecb3&quot;, &quot;#ffe0b2&quot;, &quot;#ffccbc&quot;, &quot;#d7ccc8&quot;, &quot;#f5f5f5&quot;, &quot;#cfd8dc&quot;
  ];
  /**
   * The colors used to draw highlighted shapes and lines in charts and diagrams.
   */
  static highlighColors: Array&lt;string&gt; &#x3D; [
    &quot;#e53935&quot;, &quot;#d81b60&quot;, &quot;#8e24aa&quot;, &quot;#5e35b1&quot;, &quot;#3949ab&quot;, &quot;#1e88e5&quot;, &quot;#039be5&quot;, &quot;#00acc1&quot;, &quot;#00897b&quot;, &quot;#43a047&quot;,
    &quot;#7cb342&quot;, &quot;#c0ca33&quot;, &quot;#fdd835&quot;, &quot;#ffb300&quot;, &quot;#fb8c00&quot;, &quot;#f4511e&quot;, &quot;#6d4c41&quot;, &quot;#757575&quot;, &quot;#546e7a&quot;
  ];

  /**
   * Colors supposed to use for selections, both direct and indirect. Index determines selection group.
   */
  static selectionColors &#x3D; [
    {
      direct: &quot;#9E2622&quot;,
      indirect: &quot;#CC8574&quot;
    },
    {
      direct: &quot;#005A9C&quot;,
      indirect: &quot;#B3C1DF&quot;
    },
    {
      direct: &quot;#E8DEC0&quot;,
      indirect: &quot;#D4C48E&quot;
    },
    {
      direct: &quot;#76A58E&quot;,
      indirect: &quot;#006C45&quot;
    },
  ];

  /**
   * The key used to determine the label of &#x60;data&#x60; nodes.
   */
  @Input() labelKey &#x3D; &quot;label&quot;;

  /**
   * The key used to determine the type of a &#x60;source&#x60; data node.
   */
  @Input() typeKey &#x3D; &quot;type&quot;;

  /**
   * The key used to determine the children of a &#x60;source&#x60; data node.
   */
  @Input() childKey &#x3D; &quot;children&quot;;

  /**
   * The set of data points that this chart represents. Can either be set
   * manually, or inderectly via &#x60;source&#x60; and &#x60;pattern&#x60;.
   */
  @Input() data: Array&lt;any&gt;;

  /**
   * Number of the current selection group. Selections for each groupd
   * are highlighted with different colors.
   */
  @Input() currentSelectionGroup &#x3D; 0;
  private currentSelection: D3ngSelection &#x3D; new D3ngSelection();

  /**
   * The current selection. (Only based on the current selection group).
   * @type {Array}
   */
  @Input(&#x27;selected&#x27;) set selected(value: Array&lt;any&gt;) {
    this.onIndirectSelectionChanged(value, this.currentSelectionGroup);
  };
  @Output() selectedChange &#x3D; new EventEmitter&lt;Array&lt;any&gt;&gt;();

  @Input() customLabel: Function &#x3D; null;

  @Input() multiselect: boolean &#x3D; false;

  @HostListener(&#x27;contextmenu&#x27;) onRightClick() {
    if (this.multiselect) {
      this.setDirectSelection([]);
    }
  };

  private _isDrawSelection &#x3D; true;
  @Input() set isDrawSelection(value: boolean) {
    this._isDrawSelection &#x3D; value;
    this.redraw();
  }
  get isDrawSelection(): boolean {
    return this._isDrawSelection;
  }

  public groupOrder &#x3D; [0, 1, 2, 3];

  /**
   * Allows clients to set a direct selection, before the chart has any data. Will be removed and set once data is set.
   * Its a hack, handle with care.
   * @type {any}
   */
  public preDirectSelection: any[] &#x3D; null;

  /**
   * Calculates a set of representatives for an original data point. The idea is that a parent or child data point
   * in the data set can represent data points that are not within the data set.
   * @param original
   * @returns {any}
   */
  private findRepresentative(original: any): Array&lt;any&gt; {
    if (this.data.indexOf(original) !&#x3D;&#x3D; -1) {
      return [original];
    } else {
      // original parents first
      let originalParent &#x3D; this.getParent(original);
      while (originalParent) {
        if (this.data.indexOf(originalParent) !&#x3D;&#x3D; -1) {
          return [originalParent];
        }
        originalParent &#x3D; this.getParent(originalParent);
      }

      // data parents now
      const childRepresentatives &#x3D; [];
      this.data.forEach(data &#x3D;&gt; {
        let representativeParent &#x3D; this.getParent(data);
        while (representativeParent) {
          if (representativeParent &#x3D;&#x3D; original &amp;&amp; childRepresentatives.indexOf(data) &#x3D;&#x3D; -1) {
            childRepresentatives.push(data);
          }

          // This is not a good idea, since it is just a solution for a specific case.
          // The following will cause a &quot;flat&quot; selection. The element is only represented if the first parent of
          // the required type is selected.
          if (this.getType(representativeParent) !&#x3D; this.getType(data) &amp;&amp; this.getType(representativeParent) &#x3D;&#x3D; this.getType(original)) {
            break;
          }

          representativeParent &#x3D; this.getParent(representativeParent);
        }
      });

      return childRepresentatives;
    }
  }

  public onIndirectSelectionChanged(selected: Array&lt;any&gt;, group: number) {
    this.updateSelection(selected, group, false);
  }

  private computeSelectedRepresentatives(selected: Array&lt;any&gt;): Array&lt;any&gt; {
    const representatives &#x3D; [];
    selected.filter(s &#x3D;&gt; s).forEach(s &#x3D;&gt; {
      this.findRepresentative(s).forEach(r &#x3D;&gt; {
        representatives.push(r);
      });
    });
    return representatives;
  }

  private updateSelection(selected: Array&lt;any&gt;, group: number, direct: boolean) {
    if (!selected) {
      selected &#x3D; [];
    }

    const selection &#x3D; this.currentSelection.getSelection(group, direct, true);

    selection.selected &#x3D; this.computeSelectedRepresentatives(selected);

    this.currentSelection.sortSelection(this.groupOrder);
    if (this._isDrawSelection) {
      this.drawSelection(this.currentSelection);
    }
  }

  public selectionFilter: (any) &#x3D;&gt; boolean &#x3D; null;

  public setDirectSelection(selected: Array&lt;any&gt;) {
    const originalSelected &#x3D; selected;
    if (this.selectionFilter) {
      selected &#x3D; selected.filter(this.selectionFilter);
    }

    if (this.multiselect &amp;&amp; originalSelected.length !&#x3D; 0) {
      const currentDirectSelection &#x3D; this.currentSelection.getSelection(this.currentSelectionGroup, true);
      if (currentDirectSelection) {
        if (selected.length &#x3D;&#x3D; 1 &amp;&amp; currentDirectSelection.selected.lastIndexOf(selected[0]) !&#x3D; -1) {
          const allSelected &#x3D; currentDirectSelection.selected.slice(0);
          const index &#x3D; allSelected.indexOf(selected[0]);
          allSelected.splice(index, 1);
          selected &#x3D; allSelected;
        } else {
          const allSelected &#x3D; currentDirectSelection.selected.slice(0);
          selected.forEach(s &#x3D;&gt; allSelected.push(s));
          selected &#x3D; allSelected;
        }
      }
    }
    this.updateSelection(selected, this.currentSelectionGroup, true);
    this.selectedChange.emit(selected);
  }

  protected drawSelection(selection: D3ngSelection): void {
    const selected &#x3D; selection
      .getSelected(this.currentSelectionGroup, true)
      .concat(selection.getSelected(this.currentSelectionGroup, false));
    this.drawSelected(selected);
  }

  protected drawSelected(selected: Array&lt;any&gt;): void {
    throw new Error(&quot;drawSelected must be overridden, if drawSelection is not overridden.&quot;);
  }

  protected abstract clear(): void;
  protected abstract draw(): void;

  public redraw(): void {
    this.clear();
    this.draw();
    if (this._isDrawSelection) {
      this.drawSelection(this.currentSelection);
    }
  }

  protected onDataChanged() {
    this.clear();
    this.draw();

    if (this.preDirectSelection) {
      this.setDirectSelection(this.preDirectSelection);
      this.preDirectSelection &#x3D; null;
    }
  }

  ngOnChanges(changes: SimpleChanges) {
    if (changes.hasOwnProperty(&quot;data&quot;)) {
      this.onDataChanged();
    }
  }

  public setData(data: Array&lt;any&gt;): void {
    this.data &#x3D; data;
    this.onDataChanged();
  }

  /**
   * Return the label of a given data node. The label is
   * also used to compute node colors. The default implementation
   * uses &#x60;labelKey&#x60;.
   */
  public getLabel(node): string {
    if (this.customLabel) {
      return this.customLabel(node);
    } else {
      if (node) {
        return node[this.labelKey];
      } else {
        return undefined;
      }
    }
  }

  public getQualifiedLabel(node): string {
    let result: string &#x3D; null;
    while (node) {
      const label &#x3D; this.getLabel(node);
      result &#x3D; (label ? label : &quot;&quot;) + (result &amp;&amp; label ? &quot;.&quot; : &quot;&quot;) + (result ? result : &quot;&quot;);
      node &#x3D; this.getParent(node);
    }
    return result;
  }

  /**
   * Returns the type of the given &#x60;source&#x60; data node.
   * The default implementation uses &#x60;typeKey&#x60;.
   */
  public getType(node): string {
    return node[this.typeKey];
  }

  /**
   * Returns the children of a &#x60;source&#x60; data node. The default implementation
   * assumes each node with children has the &#x60;childKey&#x60; with an array of
   * child data nodes. Returns empty array, if no children are found.
   */
  public getChildren(node): Array&lt;any&gt; {
    const result &#x3D; node[this.childKey];
    if (result) {
      return result;
    } else {
      return [];
    }
  }

  /**
   * Retrieves the parent node for a given node. The default implementation uses &quot;parent&quot; as key.
   * @param node
   * @returns {any} null if there is no parent.
   */
  public getParent(node: Object): Object {
    return node[&quot;parent&quot;];
  }

  /**
   * Returns the description of the node, if available.
   * @param node
   * @returns {any}
   */
  public getDescription(node: Object): String {
    return node[&quot;description&quot;];
  }

  public getDimensionLabel(dim: any): String {
    return dim;
  }
}
</code></pre>
    </div>
</div>





                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script>var COMPODOC_CURRENT_PAGE_DEPTH = 1;</script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
       <script src="../js/search/search_index.js"></script>

    </body>
</html>
